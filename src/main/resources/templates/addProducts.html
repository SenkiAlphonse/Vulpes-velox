<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:include="fragments/head :: head"></div>
    <title id="title">New product</title>
</head>
<body>
<div th:replace="fragments/nav-bar :: nav"></div>

<div class="container">
    <!-----------------------New bulk product-------------------------------->
    <form action="#" th:action="@{/bulkProduct/new}" th:object="${bulkProductNew}" method="post"
          id="bulkProductNew">
        <div class="row">
            <div class="col-label">
                <label for="bulkProductNewNameId">Name</label>
            </div>
            <div class="col-input">
                <input type="text" name="bulkProductNewName" id="bulkProductNewNameId" th:field="*{name}">
            </div>
        </div>
        <div class="row">
            <div class="col-label"></div>
            <button type="submit">New bulk product</button>
        </div>

    </form>
    <br>
    <!---------------------New identified product-------------------------------->
    <form action="#" th:action="@{/identifiedProduct/new}" th:object="${identifiedProductNew}" method="post"
          id="identifiedProductNew">
        <div class="row">
            <div class="col-label">
                <label for="identifiedProductNewNameId">Name</label>
            </div>
            <div class="col-input">
                <input type="text" name="identifiedProductNewName" id="identifiedProductNewNameId" th:field="*{name}">
            </div>
        </div>
        <div class="row">
            <div class="col-label"></div>
            <button type="submit">New identified product</button>
        </div>
    </form>
    <br>
    <br>
    <!-----------------------Delete all products----------------------------------->
    <form action="#" th:action="@{/deleteAll}" method="post">
        <div class="row">
            <button type="submit" class="delete" id="delete">Delete all products</button>
        </div>
    </form>
    <br>
    <br>
    <!-----------------------Add item------------------------------------->
    <h2>Add new item</h2>
    <form action="#" th:action="@{/item/new}" th:object="${itemNew}" method="post">
        <div class="row">
            <div class="col-label">
                <label for="number">Serial</label>
            </div>
            <div class="col-input">
                <input type="number" name="productNumber" id="number" th:field="*{productNumber}">
            </div>
        </div>
        <div class="row">
            <div class="col-label"><label for="type">Type</label></div>
            <div class="col-input">
                <div class="dropdown-menu">
                    <select name="identifiedProductToSet" id="type">
                        <div th:each="identifiedProduct : ${identifiedProducts}">
                            <option th:value="${identifiedProduct.getName()}">
                                <p th:text="${identifiedProduct.getName()}"></p>
                            </option>
                        </div>
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-label"></div>
            <button type="submit">Add item</button>
        </div>
    </form>


    <!----------------------Add shipment--------------------------------------->
    <h2>Add shipment</h2>
    <form action="#" th:action="@{/shipment/new}" th:object="${shipmentNew}" method="post">
        <!----------------------Added shipment--------------------------------------->
        <div th:switch="${savedEntity}">
            <div th:case="${savedEntity == true}" class="alert alert-primary">
                <span th:text="'Shipment saved with '"></span>
                <b th:text="${quantity}"></b>
                <span th:text="'quantity, '"></span>
                <b th:text="${arrival}"></b>
                <span th:text="' arrival date and '"></span>
                <b th:text="${bestBefore} "></b>
                <span th:text="'best before date.'"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-label">
                <label for="quantity">Quantity</label>
            </div><div class="col-input">
            <input type="number" name="quantity" id="quantity" th:field="*{quantity}">
        </div>
        </div>
        <div class="row">
            <div class="col-label">
                <label for="arrivalToSet">Arrival</label>
            </div><div class="col-input">
            <input type="text" name="arrivalToSet" id="arrivalToSet"
                   pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                   title="Arrival date DD-MM-YYYY" placeholder="YYYY-MM-DD">
        </div>
        </div>
        <div class="row">
            <div class="col-label">
                <label for="bestBeforeToSet">Best before</label>
            </div>
            <div class="col-input">
            <input type="text" name="bestBeforeToSet" id="bestBeforeToSet"
                   pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                   title="Best before date YYYY-MM-DD" placeholder="YYYY-MM-DD">
        </div>
        </div>
        <div class="row">
            <div class="col-label">
                <label for="typeBulk">Type</label>
            </div>
            <div class="col-input">
                <select name="bulkProductToSet" id="typeBulk">
                    <div th:each="bulkProduct : ${bulkProducts}">
                        <div class="dropdown-menu">
                            <option class="dropdown-item" th:value="${bulkProduct.getName()}">
                                <p th:text="${bulkProduct.getName()}"></p>
                            </option>
                        </div>
                    </div>
                </select>
            </div>
            </div>
            <div class="row"><div class="col-label"></div>
                <button type="submit">Add shipment</button>
            </div>
    </form>
</div>
</body>
</html>
